{"version":3,"sources":["factory/storage/index.js","factory/requestor/requestor.js","assets/logo.png","modules/login/login.jsx"],"names":["LocalStorage","data","localStorage","setItem","btoa","status","JSON","stringify","dados","aux","atob","getItem","parse","clear","Requestor","props","this","token","undefined","baseURL","dataUserLogged","getStorage","myHeaders","Headers","append","urlG","options","method","headers","getHeaders","fetch","urlP","formData","body","urlD","module","exports","Login","state","login","password","requestExecutor","event","key","handlesubmit","get","then","res","json","console","log","setStorage","history","push","document","querySelectorAll","forEach","e","classList","add","toast","error","catch","className","src","Logo","width","height","style","type","placeholder","onKeyUp","onKeyDown","bind","onChange","setState","target","value","onClick","to","color","Component","withRouter"],"mappings":"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","file":"static/js/12.d16300a0.chunk.js","sourcesContent":["export default class LocalStorage{\n\n    static setStorage(data){\n        localStorage.setItem(btoa('statusUser'), btoa(data.status));\n        localStorage.setItem(btoa('dataUser'), btoa(JSON.stringify((data.dados))));\n    }\n\n    static getStorage(){\n        let aux = atob(localStorage.getItem(btoa('dataUser')));     \n        return JSON.parse(aux);\n    }\n    \n    static clearStorage(){\n        localStorage.clear();\n    }    \n}\n","import LocalStorage from '../../factory/storage/index';\nexport  class Requestor{\n\n    constructor(props){\n        this.token = (props == undefined || props == null) ? true : false\n        // this.baseURL = `http://127.0.0.1:82`;\n        this.baseURL = `https://b1085189c6b5.ngrok.io`;\n        if (this.token) {\n            this.dataUserLogged = LocalStorage.getStorage();\n        }\n    }\n    \n    getHeaders(){\n        let myHeaders = new Headers();\n        if (this.token) {\n            myHeaders.append(\"Authorization\", `${this.dataUserLogged.token}`);\n        }\n        return myHeaders;\n    }\n\n    get(urlG){\n        let options = {\n            method: 'GET',\n            headers: this.getHeaders(),\n        }\n        return fetch(`${this.baseURL}/${urlG}`,options);\n    }\n\n    post(urlP,formData){\n        let options = {\n            method: \"POST\",\n            headers: this.getHeaders(),\n            body:formData\n        }       \n\n        return fetch(`${this.baseURL}/${urlP}`, options)\n    }\n\n    delete(urlD){\n        let options = {\n            method: 'DELETE',\n            headers: this.getHeaders(),\n        }\n\n        return fetch(`${this.baseURL}/${urlD}`,options);\n    }\n}","module.exports = __webpack_public_path__ + \"static/media/logo.8ab4c88e.png\";","import './login.css';\r\nimport 'react-toastify/dist/ReactToastify.min.css'; \r\n\r\nimport React, {Component} from 'react';\r\nimport {Link, withRouter} from 'react-router-dom';\r\nimport { toast, ToastContainer } from 'react-toastify';\r\n\r\nimport Logo from '../../assets/logo.png';\r\nimport LocalStorage from '../../factory/storage/index';\r\nimport { Requestor } from \"../../factory/requestor/requestor\";\r\n\r\nclass Login extends Component{\r\n\r\n    constructor(props){\r\n        super(props);\r\n        this.state={\r\n            login:'',\r\n            password:''\r\n        }\r\n        this.requestExecutor = new Requestor(false);\r\n    }\r\n\r\n    onKeyDown(event){\r\n        if (event.key === 'Enter') {\r\n            this.handlesubmit()\r\n          }\r\n        \r\n    }\r\n\r\n    handlesubmit(){\r\n        const {login, password} = this.state;\r\n        this.requestExecutor.get(`usuario?login=${login}&senha=${password}`, false)\r\n        // RequestLogin.getAcess(login, password)\r\n            .then(res => res.json())\r\n            .then(res =>{\r\n                if(res.status) {\r\n                    console.log(\"aqui\");\r\n                    LocalStorage.setStorage(res);\r\n                    this.props.history.push('/dashboard');\r\n                    console.log('Login => OK')\r\n                }else{\r\n                    document.querySelectorAll(\"input\").forEach(function(e) {\r\n                        e.classList.add(\"input-erro\");\r\n                    })\r\n                    toast.error('Usuario ou senha incorretos !')\r\n                }\r\n            })\r\n            .catch(error => console.log(error))\r\n              \r\n    }   \r\n\r\n    render(){\r\n        return(\r\n            <div className=\"container__body\">\r\n            <ToastContainer />\r\n                <div className=\"content__login\">\r\n                    <div className=\"box__login\">\r\n                        <div className=\"logo\">\r\n                            <img src={Logo} width=\"70%\" height=\"131px\"/>    \r\n                        </div>\r\n                        <form style={{width: '100%', height: 'auto' }} >\r\n                            <div className=\"data__form\">\r\n                                <input type=\"text\" className=\"input__login\"  placeholder=\"E-mail ou mome do usuário\" onKeyUp={this.onKeyDown.bind(this)} onChange={(e) => this.setState({login: e.target.value})} />\r\n                                <input type=\"password\"  className=\"input__login\" placeholder=\"Senha\" onKeyUp={this.onKeyDown.bind(this)} onChange={(e) => this.setState({password: e.target.value})} />\r\n                                <button type=\"button\" className=\"btn__login\" onClick={this.handlesubmit.bind(this)}>Entrar</button>\r\n                            </div>\r\n                        </form>\r\n                        <p>Ainda não é cadastrado?<Link to=\"/register/student\"> <span style={{ color: '#6259e1' }}>Cadastre-se aqui.</span></Link></p>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\nexport default withRouter(Login);"],"sourceRoot":""}